/* [create-plugin] version: 5.27.1 */
/* [create-plugin] plugin: grafana-simplebackend-datasource@1.0.0 */
define(["@grafana/ui","module","@grafana/runtime","@grafana/data","react"],(e,t,r,n,o)=>(()=>{"use strict";var a={7:t=>{t.exports=e},308:e=>{e.exports=t},531:e=>{e.exports=r},781:e=>{e.exports=n},959:e=>{e.exports=o}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return a[e](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="public/plugins/grafana-simplebackend-datasource/";var u={};i.r(u),i.d(u,{plugin:()=>E});var l=i(308),p=i.n(l);i.p=p()&&p().uri?p().uri.slice(0,p().uri.lastIndexOf("/")+1):"public/plugins/grafana-simplebackend-datasource/";var s=i(781),b=i(531);const y={constant:6.5};function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}class d extends b.DataSourceWithBackend{getDefaultQuery(e){return y}applyTemplateVariables(e,t){return O(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){f(e,t,r[t])})}return e}({},e),{queryText:(0,b.getTemplateSrv)().replace(e.queryText,t)})}filterQuery(e){return!!e.queryText}constructor(e){super(e)}}var g=i(959),j=i.n(g),P=i(7);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){m(e,t,r[t])})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){w(e,t,r[t])})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}const E=new s.DataSourcePlugin(d).setConfigEditor(function(e){const{onOptionsChange:t,options:r}=e,{jsonData:n,secureJsonFields:o,secureJsonData:a}=r;return j().createElement(j().Fragment,null,j().createElement(P.InlineField,{label:"Path",labelWidth:14,interactive:!0,tooltip:"Json field returned to frontend"},j().createElement(P.Input,{id:"config-editor-path",onChange:e=>{t(h(v({},r),{jsonData:h(v({},n),{path:e.target.value})}))},value:n.path,placeholder:"Enter the path, e.g. /api/v1",width:40})),j().createElement(P.InlineField,{label:"API Key",labelWidth:14,interactive:!0,tooltip:"Secure json field (backend only)"},j().createElement(P.SecretInput,{required:!0,id:"config-editor-api-key",isConfigured:o.apiKey,value:null==a?void 0:a.apiKey,placeholder:"Enter your API key",width:40,onReset:()=>{t(h(v({},r),{secureJsonFields:h(v({},r.secureJsonFields),{apiKey:!1}),secureJsonData:h(v({},r.secureJsonData),{apiKey:""})}))},onChange:e=>{t(h(v({},r),{secureJsonData:{apiKey:e.target.value}}))}})))}).setQueryEditor(function({query:e,onChange:t,onRunQuery:r}){const{queryText:n,constant:o}=e;return j().createElement(P.Stack,{gap:0},j().createElement(P.InlineField,{label:"Constant"},j().createElement(P.Input,{id:"query-editor-constant",onChange:n=>{t(S(D({},e),{constant:parseFloat(n.target.value)})),r()},value:o,width:8,type:"number",step:"0.1"})),j().createElement(P.InlineField,{label:"Query Text",labelWidth:16,tooltip:"Not used yet"},j().createElement(P.Input,{id:"query-editor-query-text",onChange:r=>{t(S(D({},e),{queryText:r.target.value}))},value:n||"",required:!0,placeholder:"Enter a query"})))});return u})());
//# sourceMappingURL=module.js.map